---
layout:     post
title:      ES6的Set和Map
date:       2020-03-06
author:     violetks
header-img: img/post-ES6.jpg
catalog: true
tags:
    - ES6
    - 面试题
---

### 一、Set和Map数据结构
#### Set
`Set` 本身是一个构造函数，用来生成Set数据结构。它类似于数组，但是成员的值都是唯一的，没有重复的值。<br>
（1）创建一个Set结构
```javascript
let set = new Set();
// 接受一个数组，用来初始化
let set = new Set([1,2,3,4,4]);
```
Set实例的方法分为两大类：**操作方法**和**遍历方法**。<br>
**（1）操作方法**<br>
- `add(value)`方法向Set结构添加成员，不会添加重复的值。<br>
```javascript
let set = new Set();
set.add(1);
set.add('1');
console.log(set.size);  // 2
```
向Set加入值的时候，不会发生类型转换，所以 `1` 和 `'1'` 是两个不同的值。<br>
**在Set内部，两个 NaN 是相等。**<br>
- `delete(value)`：删除某个值，返回一个布尔值，表示是否删除成功。
- `has(value)`：返回一个布尔值，表示该值是否为`Set`的成员。
- `clear()`：清除所有成员，没有返回值。
```javascript
s.add(1).add(2).add(2);

s.has(1) // true
s.has(2) // true
s.has(3) // false

s.delete(2);
```

**（2）遍历方法**<br>
- `keys()`：返回键名的遍历器
- `values()`：返回键值的遍历器
- `entries()`：返回键值对的遍历器
- `forEach()`：使用回调函数遍历每个成员
```javascript
let set = new Set(['a','b','c']);

for(let item of set.keys()){
  console.log(item);
}
// a
// b
// c

for(let item of set.values()){
  console.log(item);
}
// a
// b
// c

for(let item of set.entries()){
  console.log(item);
}
// ["a","a"]
// ["b","b"]
// ["c","c"]
```
1. Set结构键名和键值是同一个值，所以`keys`方法和`values`方法的行为完全一致。<br>
2. `entries`方法返回的遍历器，同时包括键名和键值，所以结果如上。<br>