---
layout:     post
title:      JS基础知识
date:       2019-11-01
author:     violetks
header-img: img/post-bg-js-version.jpg
catalog: true
tags:
    - JS
    - 面试题
    - 基础知识
---

### 1. 给DOM元素绑定事件有哪几种方法？
1.使用内联，优先级最高，一个元素只能添加一个事件；
```javascript
<input type="button" value="btn" onclick="alert('内联！');">
```
2.使用元素的`.onclick`方法；一个元素只能添加一个事件；
```javascript
<input type="button" value="btn">
<script>
  var btn = document.getElementsByTagName("input")[0];
  btn.onclick = function(){
    alert('.onclick');
  }
</script>
```
3.使用事件监听`addEventListener`（IE使用attachEvent），给一个元素添加多个事件。
```javascript
<input type="button" value="btn">
<script>
  var btn = document.getElementsByTagName("input")[0];
  btn.addEventListener("click",function(){
    alert('事件一');
  })
  btn.addEventListener("click",function(){
    alert('事件二');
  })
</script>
```

### 2. 闭包是什么？有什么优点和缺点？
解答：闭包是指**有权访问另一个函数作用域中的变量的函数**。当其中一个内部函数在外部函数以外被调用时，就会形成闭包。<br>
**优点：**① 能够读取函数内部的变量；②让这些变量<font color="red">一直存在于内存中</font>，不会在调用结束后被垃圾回收机制回收；③不增加额外的全局变量。<br>
**缺点：**由于闭包会使函数中的变量存在于内存中，<font color="red">内存消耗很大，所以不能滥用闭包</font>；解决的办法是退出函数之前，将不使用的局部变量删除。<br>

### 3. this的指向问题？
（1）普通函数执行，内部this指向全局对象window。<br>
（2）函数在定义的时候this是不确定的，只有在调用的时候可以确定。<br>
（3）如果函数作为一个对象的方法被该对象调用，那么函数内的this则指向该对象。<br>
（4）构造函数中的this是一个隐式对象，类似一个初始化的类型，所有方法和属性都挂载到了这个隐式对象身上，后续通过new关键字来调用，从而实现实例化。<br>
##### 改变this指向的方法：
- 使用箭头函数<br>
- 在函数内部使用`_this=this;`<br>
- 使用apply、call、bind<br>
- new实例化一个对象<br>

### 4. 什么是window对象？什么是document对象？
**window对象**是指浏览器打开的窗口。<br>
**document对象**是文档对象，window对象的一个属性。

### 5. document.write和innerHTML的区别？
`document.write`直接将内容写入页面的内容流，会导致重绘整个页面。<br>
`innerHTML`将内容写入某个DOM节点，可以重绘页面的一部分<br>

### 6. JS获取HTML元素的8种方法
- 通过ID获取（getElementById）
- 通过name属性（getEmementsByName）
- 通过标签名（getElementsByTagName）
- 通过类名（getElementsByClassName）
- 通过选择器获取一个元素（querySelector）
- 通过选择器获取一组元素（querySelectorAll）
- 获取HTML标签（document.documentElement）
- 获取body（document.body）

### 7. JS操作DOM的方法
（1）创建节点<br>
&nbsp;&nbsp;createElement("标签名")    //创建一个具体的元素<br>
&nbsp;&nbsp;createTextNode()           //创建一个文本节点<br>
&nbsp;&nbsp;createDocumentFragment()   //创建一个DOM片段<br>
（2）插入节点<br>
&nbsp;&nbsp;`父节点.appendChild(新的子节点);`，在父节点的最后插入一个新的子节点。<br>
&nbsp;&nbsp;`父节点.insertBefore(新的子节点,参考节点);`，在参考节点前插入一个新节点，如果参考节点为null，将在父节点最后插入一个子节点。<br>
（3）删除节点：父节点.removeChild(子节点)，想删除自己<br>
```javascript
node.parentNode.removeChild(node);
```
（4）复制节点：<br>
```javascript
node.cloneNode();     //只复制节点本身，不复制子节点
node.cloneNode(true); //既复制节点本身，也复制其所有的子节点
```
（5）替换节点：replaceChild(new,old)<br>
（6）获取节点的属性值<br>
&nbsp;&nbsp;方式1：元素节点.属性，node.src，node.className，node.title；<br>
&nbsp;&nbsp;方式2：node.getAttribute("属性名");<br>
（7）设置节点的属性值<br>
&nbsp;&nbsp;方式1：node.src = ""；<br>
&nbsp;&nbsp;方式2：node.setAttribute(属性名，新的属性值)<br>
（8）删除节点属性：node.removeAttribute(属性名)

### 8. JS中开头"use strict"是什么意思？
"use strict"是一种ECMAscript 5 添加的严格运行模式,这种模式使得 Javascript 在更严格的条件下运行。<br>
**严格模式的限制：**<br>
（1）不允许使用未声明的变量（对象也是一个变量）；<br>
（2）不允许删除变量或对象；<br>
（3）不允许删除函数；<br>
（4）不允许删除一个不允许删除的属性；<br>
（5）不允许变量重名；<br>
（6）不允许使用八进制、转义字符；<br>
（7）不允许对只读属性赋值；<br>
```javascript
"use strict";
var obj = {};
Object.defineProperty(obj,"x",{value:0,writable:false});
obj.x = 3.14     //报错
```
（8）不允许对一个使用getter方法读取的属性进行赋值；<br>
```javascript
"use strict";
var obj = {};
var obj = {get x() {return 0}};
obj.x = 3.14     //报错
```
（9）不能使用`eval`、`arguments`作为变量名；<br>
（10）由于一些安全原因，在作用域`eval()`创建的变量不能被调用；<br>
```javascript
"use strict";
eval("var x = 2");
alert(x);       //报错
```
（11）禁止this关键字指向全局对象；<br>
**为什么使用严格模式：**<br>
消除JavaScript语法的一些不合理、不严谨之处，减少一些怪异行为；消除代码运行的一些不安全之处，保证代码运行的安全；提高编译器效率，增加运行速度；另一方面，同样的代码，在**严格模式**中，可能会有不一样的运行结果；一些在“正常模式”下可以运行的语句，在“严格模式”下将不能运行。<br>

### 9. JS中eval的功能？
把对应的字符串解析成JS代码并运行；和Python有点像啊，用到的又不多😂

### 10. JavaScript数据类型
- 简单数据类型：string、number、boolean、array、null、undefined
- 引用数据类型：object

### 如何判断当前脚本运行在浏览器还是node环境中？

this === window ? 'browser' : 'node';

### JavaScript截取字符串abcdace中的ace？

'abcdace'.substring(4)

### JS中如何得到负无穷大？

负数除以0，如：-1/0

### 请问3.toString()的结果是？

ERROR

### 请问3..toString()的结果是？

3

### 请问3...toString()的结果是？

ERROR

### 下面代码的输出内容？

```
var b = 10;
(function b(){
    b = 20;
    console.log(b); 
})();
```

function b() {...}

```
var a = {n: 1};
var b = a;
a.x = a = {n: 2};

console.log(a.x)
console.log(b.x)
```

undefined {n:2}

### 补充a，使控制台能够打印1
```
var a = ?;
if(a == 1 && a == 2 && a == 3)
{
   console.log(1);
}
```
var a={i:1,toString(){return a.i++}}

类型隐式转换，a为对象，隐式转换时会调用toString方法，重写该方法对a进行操作

```
function isArray() {
  return
  true;
}
console.log(isArray());
```

undefined